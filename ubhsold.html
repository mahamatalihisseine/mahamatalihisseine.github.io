<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>UBHS Architecture Interactive Diagram</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<!-- Mermaid CDN -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<!-- Styles -->
<style>
body {
  font-family: Arial, sans-serif;
}
.detail-box {
  display: none;
  padding: 15px;
  margin: 15px 0;
  border-radius: 6px;
  border-left: 5px solid #007BFF;
  background-color: #f9fafb;
}
.detail-box h3 {
  margin: 0 0 5px 0;
}
</style>
</head>
<body>
<h2>UBHS Architecture Interactive Diagram</h2>
<div class="mermaid">
flowchart LR
    subgraph UBHS[â›“ï¸ UBHS Architecture]
        UBHS_Core[âœ… UBHS Core]
        HL[ğŸ” Handle Resolver]
        IPFS[â˜ï¸ IPFS / Off-Chain Storage]
        CONSENT[ğŸ‘¥ Consent Service]
        REVOKE[ğŸš« Revocation Service]
        AUDIT[ğŸ“‹ Audit Service]
    end
    subgraph DOMAINS[ğŸŒ Application Domains]
        EDU[ğŸ‘©â€ğŸ“ Education]
        IIOT[ğŸ­ Industrial IoT]
        SM[ğŸ‘¥ Social Media]
        DS[ğŸ“‚ Data Sharing]
    end
    A[ğŸ‘¤ User] --> UBHS_Core
    UBHS_Core --> HL
    UBHS_Core --> IPFS
    UBHS_Core --> AUDIT
    UBHS_Core --> EDU
    UBHS_Core --> IIOT
    UBHS_Core --> SM
    UBHS_Core --> DS
    UBHS_Core --> CONSENT
    UBHS_Core --> REVOKE
</div>

<!-- Detail Sections -->
<div id="UBHS_Core_detail" class="detail-box">
  <h3>âœ… UBHS Core</h3>
  <p>The central component providing Blockchain Smart Contracts and the Handle System for trusted identifier resolution and access control across domains.</p>
</div>

<div id="HL_detail" class="detail-box">
  <h3>ğŸ” Handle Resolver</h3>
  <p>Resolves persistent identifiers across platforms, ensuring longâ€‘term access and crossâ€‘domain trust.</p>
</div>

<div id="IPFS_detail" class="detail-box">
  <h3>â˜ï¸ IPFS / Off-Chain Storage</h3>
  <p>Secure, decentralized storage for medical records, academic diplomas, IoT data, and other critical files associated with identifiers.</p>
</div>

<div id="CONSENT_detail" class="detail-box">
  <h3>ğŸ‘¥ Consent Service</h3>
  <p>Manages user consents, allowing stakeholders to accept, review, or revoke access requests securely and transparently.</p>
</div>

<div id="REVOKE_detail" class="detail-box">
  <h3>ğŸš« Revocation Service</h3>
  <p>Enables the invalidation of access and identifiers, supporting privacy, compliance, and security across UBHS domains.</p>
</div>

<div id="AUDIT_detail" class="detail-box">
  <h3>ğŸ“‹ Audit Service</h3>
  <p>Logs every access request, transaction, and revocation to support accountability, traceability, and compliance across domains.</p>
</div>

<div id="EDU_detail" class="detail-box">
  <h3>ğŸ‘©â€ğŸ“ Education Domain</h3>
  <p>Supports digital diplomas and academic records by making them verifiable and persistent across institutions and borders.</p>
</div>

<div id="IIOT_detail" class="detail-box">
  <h3>ğŸ­ Industrial IoT Domain</h3>
  <p>Assigns trusted identifiers for IoT devices and streamlines access to device data for maintenance, auditing, and lifecycle management.</p>
</div>

<div id="SM_detail" class="detail-box">
  <h3>ğŸ‘¥ Social Media Domain</h3>
  <p>Establishes trusted identifiers for digital profiles and social media data, ensuring longâ€‘term access and verification across platforms and services.</p>
</div>

<div id="DS_detail" class="detail-box">
  <h3>ğŸ“‚ Data Sharing Domain</h3>
  <p>Supports trusted access and sharing of medical, research, and governmental data across organizations, preserving privacy and accountability through UBHS services.</p>
</div>

<!-- Scripts for Interactive Click -->
<script>
mermaid.initialize({ startOnLoad:true });

// Event Listeners
const ids = ["UBHS_Core","HL","IPFS","CONSENT","REVOKE","AUDIT","EDU","IIOT","SM","DS"];
ids.forEach(id => {
  const elem = document.querySelector(`[id="${id}"]`) || document.querySelector(`[data-id="${id}"]`);
  // Try selecting the SVG node
  let node = document.querySelector(`.node[id="${id}"]`);
  if (node) {
    node.addEventListener("click", function() {
      ids.forEach(otherId => {
        if (otherId !== id) {
            document.getElementById(otherId + "_detail").style.display = "none";
        }
      });
      const detail = document.getElementById(id + "_detail");
      if (detail) {
        detail.style.display = (detail.style.display === "none" || !detail.style.display) ? "block" : "none";
      }
    });
  }
});
</script>
</body>
</html>
